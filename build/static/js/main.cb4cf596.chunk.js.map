{"version":3,"sources":["services/persons.js","Filter.js","PersonForm.js","Persons.js","Notification.js","App.js","index.js"],"names":["baseUrl","axios","get","newPerson","post","id","delete","updatedPerson","put","Filter","textFilter","setTextFilter","value","onChange","target","PersonForm","setNewPerson","handleAddOrUpdate","onSubmit","name","number","type","Persons","persons","handleRemove","filter","toLowerCase","includes","map","key","onClick","Notification","message","error","className","App","useState","setPersons","notification","setNotification","setError","useEffect","updateAllPeople","api","then","response","data","event","preventDefault","matchingPerson","window","confirm","setTimeout","catch","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.cb4cf596.chunk.js","sourcesContent":["import axios from \"axios\";\n\nconst baseUrl = \"/api/persons\";\n\nconst getAll = () => axios.get(baseUrl);\n\nconst create = (newPerson) => axios.post(baseUrl, newPerson);\n\nconst remove = (id) => axios.delete(`${baseUrl}/${id}`);\n\nconst update = (id, updatedPerson) => axios.put(`${baseUrl}/${id}`, updatedPerson)\n\nexport default {\n  getAll,\n  create,\n  remove,\n  update\n};\n","import React from \"react\";\n\nfunction Filter({ textFilter, setTextFilter }) {\n  return (\n    <>\n      Filter names by:\n      <input\n        value={textFilter}\n        onChange={({ target }) => setTextFilter(target.value)}\n      />\n    </>\n  );\n}\n\nexport default Filter;\n","import React from \"react\";\n\nfunction PersonForm({ newPerson, setNewPerson, handleAddOrUpdate }) {\n  return (\n    <form onSubmit={handleAddOrUpdate}>\n      <div>\n        Name:\n        <input\n          value={newPerson.name}\n          onChange={({ target }) =>\n            setNewPerson({ ...newPerson, name: target.value })\n          }\n        />\n      </div>\n      <div>\n        Number:\n        <input\n          value={newPerson.number}\n          onChange={({ target }) =>\n            setNewPerson({ ...newPerson, number: target.value })\n          }\n        />\n      </div>\n      <div>\n        <button type=\"submit\">Add</button>\n      </div>\n    </form>\n  );\n}\n\nexport default PersonForm;\n","import React from \"react\";\n\nfunction Persons({ persons, textFilter, handleRemove }) {\n  return (\n    <div>\n      {persons\n        .filter(({ name }) =>\n          name.toLowerCase().includes(textFilter.toLowerCase())\n        )\n        .map(({ id, name, number }) => (\n          <div key={name}>\n            {name} {number}\n            <button onClick={() => handleRemove(name, id)}>Delete</button>\n          </div>\n        ))}\n    </div>\n  );\n}\n\nexport default Persons;\n","import React from \"react\";\n\nfunction Notification({ message, error }) {\n  return message ? (\n    <div className={error ? \"error\" : \"notification\"}>{message}</div>\n  ) : null;\n}\n\nexport default Notification;\n","import React, { useState, useEffect } from \"react\";\nimport \"./App.css\";\nimport api from \"./services/persons\";\nimport Filter from \"./Filter\";\nimport PersonForm from \"./PersonForm\";\nimport Persons from \"./Persons\";\nimport Notification from \"./Notification\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newPerson, setNewPerson] = useState({ name: \"\", number: \"\" });\n  const [textFilter, setTextFilter] = useState(\"\");\n  const [notification, setNotification] = useState(null);\n  const [error, setError] = useState(false);\n\n  useEffect(() => {\n    updateAllPeople();\n  }, []);\n\n  const updateAllPeople = () =>\n    api.getAll().then((response) => setPersons(response.data));\n\n  const handleAddOrUpdate = (event) => {\n    event.preventDefault();\n    const [matchingPerson] = persons.filter(\n      ({ name }) => name === newPerson.name\n    );\n    if (\n      matchingPerson &&\n      window.confirm(\n        `${newPerson.name} is already in the phonebook. Update the number?`\n      )\n    ) {\n      api.update(matchingPerson.id, newPerson).then(({ data }) => {\n        setNotification(`${newPerson.name} updated!`);\n        setTimeout(() => setNotification(null), 3000);\n        setNewPerson({ name: \"\", number: \"\" });\n        updateAllPeople();\n      });\n    } else {\n      api.create(newPerson).then(({ data }) => {\n        setPersons([...persons, data]);\n        setNotification(`${newPerson.name} added!`);\n        setTimeout(() => setNotification(null), 3000);\n        setNewPerson({ name: \"\", number: \"\" });\n      });\n    }\n  };\n\n  const handleRemove = (name, id) => {\n    if (window.confirm(`Are you sure you want to delete ${name}?`)) {\n      api\n        .remove(id)\n        .then(() => {\n          setNotification(`${name} removed!`);\n          setTimeout(() => setNotification(null), 3000);\n          setNewPerson({ name: \"\", number: \"\" });\n          updateAllPeople();\n        })\n        .catch(() => {\n          setError(true);\n          setNotification(`${name} has already been removed from the server!`);\n          updateAllPeople();\n          setTimeout(() => {\n            setNotification(null);\n            setError(false);\n          }, 3000);\n        });\n    }\n  };\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification error={error} message={notification} />\n      <Filter textFilter={textFilter} setTextFilter={setTextFilter} />\n      <h3>Add a new person</h3>\n      <PersonForm\n        newPerson={newPerson}\n        setNewPerson={setNewPerson}\n        handleAddOrUpdate={handleAddOrUpdate}\n      />\n      <h2>Numbers</h2>\n      <Persons\n        persons={persons}\n        textFilter={textFilter}\n        handleRemove={handleRemove}\n      />\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}